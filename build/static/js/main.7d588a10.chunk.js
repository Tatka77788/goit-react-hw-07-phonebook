(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{11:function(t,e,n){t.exports={list:"ContactList_list__1SX8e",listItem:"ContactList_listItem__1-tcH",paragraph:"ContactList_paragraph__nvzzQ",button:"ContactList_button__3eOzj"}},18:function(t,e,n){t.exports={telInput:"ContactForm_telInput__1vw6v",form:"ContactForm_form__1fhyu",label:"ContactForm_label__35svt",input:"ContactForm_input__2SRxd",button:"ContactForm_button__mHe7I"}},20:function(t,e,n){t.exports={titlel:"Title_titlel__2U-Y4",container:"Title_container__1gz9s"}},21:function(t,e,n){t.exports={container:"Filter_container__2bOM_",label:"Filter_label__2LsOY",input:"Filter_input__CxodO"}},36:function(t,e,n){t.exports={Containerv:"Layout_Containerv__2Z7JE"}},38:function(t,e,n){t.exports={appear:"titleSlide_appear__11elD",appearActive:"titleSlide_appearActive__3ytv8"}},39:function(t,e,n){t.exports={enter:"noticeSlide_enter__KxglJ",enterActive:"noticeSlide_enterActive__1r-sb",exit:"noticeSlide_exit__2SXae",exitActive:"noticeSlide_exitActive__3nXc8"}},40:function(t,e,n){t.exports={Notification:"Notification_Notification__1PvEO"}},41:function(t,e,n){t.exports={enter:"filterScale_enter__2uk7Y",enterActive:"filterScale_enterActive__vy43p",exit:"filterScale_exit__5r3PT",exitActive:"filterScale_exitActive__3hi9u",exitDone:"filterScale_exitDone__2O2ZH"}},43:function(t,e,n){t.exports={enter:"itemSlide_enter__1Eg6g",enterActive:"itemSlide_enterActive__3hQFG",exit:"itemSlide_exit__1u7Sq",exitActive:"itemSlide_exitActive__2coEI"}},46:function(t,e,n){t.exports=n(94)},93:function(t,e,n){},94:function(t,e,n){"use strict";n.r(e);var a,c,r,o=n(0),i=n.n(o),u=n(8),s=n(10),l=n.n(s),f=n(3),m=n(1),d=n(44),p=n(7),b={addContactRequest:Object(f.b)("contact/addRequest"),addContactSuccess:Object(f.b)("contact/addSuccess"),addContactError:Object(f.b)("contact/addError"),fetchContactsRequest:Object(f.b)("contact/fetchRequest"),fetchContactsSuccess:Object(f.b)("contact/fetchSuccess"),fetchContactsError:Object(f.b)("contact/fetchError"),deleteContactRequest:Object(f.b)("contact/deleteRequest"),deleteContactSuccess:Object(f.b)("contact/deleteSuccess"),deleteContactError:Object(f.b)("contact/deleteError"),changeFilter:Object(f.b)("contact/changeFilter")},h=Object(f.c)([],(a={},Object(m.a)(a,b.fetchContactsSuccess,(function(t,e){return e.payload})),Object(m.a)(a,b.addContactSuccess,(function(t,e){var n=e.payload;return[].concat(Object(d.a)(t),[n])})),Object(m.a)(a,b.deleteContactSuccess,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),a)),_=Object(f.c)(!1,(c={},Object(m.a)(c,b.fetchContactsRequest,(function(){return!0})),Object(m.a)(c,b.fetchContactsSuccess,(function(){return!1})),Object(m.a)(c,b.fetchContactsError,(function(){return!1})),Object(m.a)(c,b.addContactRequest,(function(){return!0})),Object(m.a)(c,b.addContactSuccess,(function(){return!1})),Object(m.a)(c,b.addContactError,(function(){return!1})),Object(m.a)(c,b.deleteContactRequest,(function(){return!0})),Object(m.a)(c,b.deleteContactSuccess,(function(){return!1})),Object(m.a)(c,b.deleteContactError,(function(){return!1})),c)),C=Object(f.c)("",Object(m.a)({},b.changeFilter,(function(t,e){return e.payload}))),v=Object(f.c)(null,(r={},Object(m.a)(r,b.fetchExistContactsError,(function(t,e){return e.payload.message})),Object(m.a)(r,b.addContactError,(function(t,e){return e.payload.message})),Object(m.a)(r,b.removeContactError,(function(t,e){return e.payload.message})),Object(m.a)(r,b.fetchExistContactsRequest,(function(){return null})),Object(m.a)(r,b.addContactRequest,(function(){return null})),Object(m.a)(r,b.removeContactRequest,(function(){return null})),r)),O=Object(p.c)({items:h,loading:_,filter:C,error:v}),g=Object(f.a)({reducer:{contacts:O}}),E=n(12),j=n(13),S=n(16),x=n(15),y=n(36),N=n.n(y),w=function(t){var e=t.children;return i.a.createElement("div",{className:N.a.Containerv},e)},A=n(37),F=n.n(A);n(75);function q(){return i.a.createElement(F.a,{type:"Puff",color:"#c71585",height:60,width:60})}var R=n(95),k=n(38),L=n.n(k),D=n(20),I=n.n(D);var U=function(t){var e=t.text;return i.a.createElement(i.a.Fragment,null,i.a.createElement(R.a,{timeout:500,classNames:L.a,in:!0,appear:!0},i.a.createElement("h2",{className:I.a.titlel},e)))};var z=function(){return i.a.createElement("div",{className:I.a.container},i.a.createElement(U,{text:"PHONEBOOK"}))},H=n(39),J=n.n(H),P=n(40),T=n.n(P);function B(t){var e=t.message,n=t.showNotice;return i.a.createElement(R.a,{timeout:250,classNames:J.a,in:n,unmountOnExit:!0},i.a.createElement("div",{className:T.a.Notification},e))}var M=n(18),X=n.n(M);function Y(t){var e=t.warning,n=t.showNotice,a=t.name,c=t.number,r=t.handleSubmit,o=t.handleChange;return i.a.createElement(i.a.Fragment,null,i.a.createElement(B,{message:e,showNotice:n}),i.a.createElement("form",{className:X.a.form,onSubmit:r},i.a.createElement("input",{className:X.a.input,type:"text",placeholder:"Enter name...",required:!0,value:a,onChange:o,name:"name"}),i.a.createElement("input",{className:X.a.input,placeholder:"Enter number",required:!0,value:c,onChange:o,name:"number"}),i.a.createElement("button",{type:"submit",disabled:!a||!c,className:X.a.button},"Add contact")))}var K=n(19),Q=n.n(K);Q.a.defaults.baseURL="http://localhost:2000";var V={addContact:function(t,e){return function(n){n(b.addContactRequest()),Q.a.post("/contacts",{name:t,number:e}).then((function(t){var e=t.data;return n(b.addContactSuccess(e))})).catch((function(t){return n(b.addContactError(t))}))}},fetchContacts:function(){return function(t){t(b.fetchContactsRequest()),Q.a.get("/contacts").then((function(e){var n=e.data;return t(b.fetchContactsSuccess(n))})).catch((function(e){return t(b.addContactsError(e))}))}},deleteContact:function(t){return function(e){e(b.deleteContactRequest()),Q.a.delete("/contacts/".concat(t)).then((function(){return e(b.deleteContactSuccess(t))})).catch((function(t){return e(b.deleteContactError(t.message))}))}}},Z=n(9),G=function(t){return t.contacts.items},W=function(t){return t.contacts.filter},$={getLoading:function(t){return t.contacts.loading},getContacts:G,getFilter:W,getVisibleContacts:Object(Z.a)([G,W],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),getContactById:Object(Z.a)([function(t,e){return e},G],(function(t,e){return e.find((function(e){return e.id===t}))}))},tt=function(t){Object(S.a)(n,t);var e=Object(x.a)(n);function n(){var t;Object(E.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:"",showNotice:!1,warning:null},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(m.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.name,c=n.number,r=t.props,o=r.contacts,i=r.onAddContact;if(o.find((function(t){return a===t.name})))return t.setState({warning:"".concat(a," is already in contacts"),showNotice:!0}),setTimeout((function(){return t.setState({showNotice:!1})}),2e3);i(a,c),t.setState({name:"",number:""})},t}return Object(j.a)(n,[{key:"render",value:function(){return i.a.createElement(Y,Object.assign({},this.props,{handleSubmit:this.handleSubmit,handleChange:this.handleChange,showNotice:this.state.showNotice,warning:this.state.warning,name:this.state.name,number:this.state.number}))}}]),n}(o.Component),et={onAddContact:V.addContact},nt=Object(u.b)((function(t){return{contacts:$.getContacts(t)}}),et)(tt),at=n(41),ct=n.n(at),rt=n(21),ot=n.n(rt);function it(t){var e=t.value,n=t.onChangeFilter,a=t.appear;return i.a.createElement(R.a,{timeout:250,classNames:ct.a,in:a,unmountOnExit:!0},i.a.createElement("div",{className:ot.a.container},i.a.createElement("label",{className:ot.a.label},"Find contacts by name:",i.a.createElement("input",{className:ot.a.input,type:"text",value:e,onChange:function(t){return n(t.target.value)}}))))}var ut=function(t){Object(S.a)(n,t);var e=Object(x.a)(n);function n(){var t;Object(E.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={appear:!1},t.toAppear=function(){t.setState({appear:!0})},t.toUnAppear=function(){t.setState({appear:!1})},t}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.contacts.length<=1||this.setState({appear:!0})}},{key:"componentDidUpdate",value:function(t,e){if(t.contacts.length!==this.props.contacts.length){var n=this.props.contacts;if(n.length>1)return this.toAppear();if(n.length<=1)return this.toUnAppear()}}},{key:"render",value:function(){var t=this.state.appear;return i.a.createElement(it,Object.assign({},this.props,{appear:t}))}}]),n}(o.Component),st={onChangeFilter:b.changeFilter},lt=Object(u.b)((function(t){return{contacts:$.getContacts(t)}}),st)(ut),ft=n(96),mt=n(42),dt=n(11),pt=n.n(dt);var bt=Object(u.b)((function(t,e){var n=$.getContactById(t,e.id);return Object(mt.a)({},n)}),(function(t,e){return{onDeleteContact:function(){return t(V.deleteContact(e.id))}}}))((function(t){var e=t.name,n=t.number,a=t.onDeleteContact;return i.a.createElement("li",{className:pt.a.listItem},i.a.createElement("span",{className:pt.a.paragraph},e),i.a.createElement("span",{className:pt.a.paragraph},n),i.a.createElement("button",{className:pt.a.button,type:"button",onClick:a},"\xd7"))})),ht=n(43),_t=n.n(ht);var Ct={onDeleteContact:b.deleteContact},vt=Object(u.b)((function(t){return{contacts:$.getVisibleContacts(t)}}),Ct)((function(t){var e=t.contacts;return i.a.createElement(ft.a,{className:pt.a.list},e.map((function(t){var e=t.id;return i.a.createElement(R.a,{key:e,timeout:250,classNames:_t.a},i.a.createElement(bt,{id:e}))})))}));function Ot(t){var e=t.contacts,n=t.isloadingContact;return i.a.createElement(w,null,n&&i.a.createElement(q,null),i.a.createElement(z,null),i.a.createElement(nt,null),e.length>0&&i.a.createElement(lt,null),i.a.createElement(vt,null))}var gt=function(t){Object(S.a)(n,t);var e=Object(x.a)(n);function n(){return Object(E.a)(this,n),e.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return i.a.createElement(Ot,this.props)}}]),n}(o.Component),Et={onFetchContacts:V.fetchContacts},jt=Object(u.b)((function(t){return{contacts:$.getContacts(t),isloadingContact:$.getLoading(t)}}),Et)(gt);n(93);l.a.render(i.a.createElement(u.a,{store:g},i.a.createElement(jt,null)),document.querySelector("#root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.7d588a10.chunk.js.map